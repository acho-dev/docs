---
title: 'Configuration'
description: 'Configure the Aden MCP Server'
---

## Environment Variables

| Variable | Description | Default | Required |
|----------|-------------|---------|----------|
| `ADEN_API_BASE_URL` | Backend API URL | `http://localhost:3000` | Yes |
| `ADEN_TEAM_ID` | Team ID for multi-tenant context | - | Recommended |
| `ADEN_USER_ID` | User ID for audit trail | - | Recommended |
| `ADEN_AUTH_TOKEN` | JWT authentication token | - | Yes |
| `MCP_HTTP_PORT` | HTTP server port (HTTP mode only) | `3001` | No |
| `MCP_HTTP_HOST` | HTTP server host (HTTP mode only) | `localhost` | No |

## Authentication

The MCP server uses JWT tokens for authentication with the Aden API.

### Obtaining a Token

Contact your Aden administrator to obtain API credentials and a JWT token.

### Token Configuration

<Tabs>
  <Tab title="Claude Desktop">
    Add the token to your Claude Desktop config:

    ```json
    {
      "mcpServers": {
        "aden-finance": {
          "env": {
            "ADEN_AUTH_TOKEN": "your-jwt-token"
          }
        }
      }
    }
    ```
  </Tab>
  <Tab title="Environment Variable">
    Set the environment variable:

    ```bash
    export ADEN_AUTH_TOKEN="your-jwt-token"
    ```
  </Tab>
</Tabs>

## Transport Modes

### stdio (Default)

Used for Claude Desktop integration. Communication happens over standard input/output.

```bash
npm start
```

### HTTP/SSE

Used for web clients or remote access. Starts an HTTP server with Server-Sent Events for streaming.

```bash
npm start -- --http --port 3001
```

#### HTTP Endpoints

| Endpoint | Method | Description |
|----------|--------|-------------|
| `/health` | GET | Health check |
| `/tools` | GET | List available tools |
| `/tools/{name}` | POST | Execute a tool |
| `/sse` | GET | SSE connection for streaming |

## Multi-Tenant Configuration

For organizations with multiple teams:

```json
{
  "mcpServers": {
    "aden-finance": {
      "env": {
        "ADEN_API_BASE_URL": "https://kube.acho.io",
        "ADEN_TEAM_ID": "team-123",
        "ADEN_USER_ID": "user-456",
        "ADEN_AUTH_TOKEN": "your-jwt-token"
      }
    }
  }
}
```

The `ADEN_TEAM_ID` ensures all operations are scoped to the correct team, and `ADEN_USER_ID` is recorded in the audit trail.

## Project Structure

```
aden-sdk-mcp/
├── bin/
│   └── mcp-server.js       # CLI entry point
├── src/
│   ├── index.js            # Main exports
│   ├── server.js           # MCP server setup
│   ├── auth/               # Authentication
│   │   ├── session.js
│   │   ├── validator.js
│   │   └── index.js
│   ├── domains/
│   │   └── finance/
│   │       ├── index.js    # Domain registration
│   │       └── tools/
│   │           ├── reports/
│   │           ├── journal-entries/
│   │           ├── bills/
│   │           ├── invoices/
│   │           ├── accounting-periods/
│   │           └── chart-of-accounts/
│   ├── transports/
│   │   ├── stdio.js
│   │   ├── http.js
│   │   └── index.js
│   └── utils/
│       ├── api-client.js   # Backend HTTP client
│       ├── error-handler.js
│       └── schema-helpers.js
└── package.json
```

## Security Considerations

<Warning>
  Never commit JWT tokens or credentials to version control. Use environment variables or secure credential management.
</Warning>

- Store tokens securely using environment variables or secret management
- Use HTTPS for all API communication in production
- Rotate tokens regularly
- Limit token permissions to required operations only
